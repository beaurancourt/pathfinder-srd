<link rel="stylesheet" href="/css/encounter.css" />

<form method="post" action="/encounter">
  <div class="row justify-content-center">
    <div class="col input-group mb-3 my-3">
      <div class="input-group-prepend">
          <label class="input-group-text" for="encounterDifficulty">Encounter Difficulty</label>
      </div>
      <select class="custom-select form-control" id="encounterDifficulty" name="difficulty">
        <option disabled selected>Select</option>
        <option attributeName="value">Trivial</option>
        <option attributeName="value">Low</option>
        <option attributeName="value">High</option>
        <option attributeName="value">Severe</option>
        <option attributeName="value">Extreme</option>
      </select>
    </div>
    <div class="col input-group mb-3 my-3">
      <div class="input-group-prepend">
        <label class="input-group-text" for="partyLevel">Party's Level</label>
      </div>
      <input type="text" class="form-control" id="partyLevel" attributeName="value" name="partyLevel">
    </div>
    <div class="col input-group mb-3 my-3">
      <div class="input-group-prepend">
        <label class="input-group-text" for="totalPlayers">
          Total # of Players
        </label>
      </div>
      <input type="text" class="form-control" id="totalPlayers" attributeName="value" name="totalPlayers">
    </div>
    <div class="col input-group mb-3 my-3">
      <button class="btn btn-secondary" type="submit" id="generateCreatures">
        Randomize
      </button>
    </div>
  </div>
</form>
{{#if encounter.url}}
  <h5 style="text-align:center; margin: 10px">
    Difficulty: {{encounter.url.difficulty}} / 
    Total Players: {{encounter.url.totalPlayers}} / 
    Players Level: {{encounter.url.playersLevel}}
  </h5>
{{/if}}
<div class="container" style="margin: 20px;">
  <div class="row justify-content-center">
    {{#each encounter.list}}
      <div class="col align-self-center">
        <!-- Card -->
          <div class="card" style="margin: 10px auto; width: 18rem" type="button" data-toggle="modal" data-target='#{{id}}'>
            <div class="card-body">
                <h5 class="card-title">{{name}}</h5>
                <h6 class="card-subtitle mb-2 text-muted">Level {{level}} - {{rarity}}</h6>
                <p class="card-text">Category: {{category}}</p>
            </div>
          </div>
      </div>
      <!-- Modal -->
      <div class="modal fade" id={{id}} tabindex="-1" role="dialog" aria-labelledby="longScrollModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="longScrollModalTitle">Creature Stats</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
              <!-- Partial of Creature -->
              {{> creature}}
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
</div>